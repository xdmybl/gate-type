# Code generated by engine gate build no edit

apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    crd.solo.io/specHash: 5ff4854d4b530689
  labels:
    app: engine-gate
    app.kubernetes.io/name: engine-gate
  name: cacertificates.gate.xdmybl.io
spec:
  group: gate.xdmybl.io
  names:
    kind: CaCertificate
    listKind: CaCertificateList
    plural: cacertificates
    shortNames:
    - ca
    singular: cacertificate
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              allowExpiredCertificate:
                type: boolean
              alpnProtocols:
                description: |-
                  Set Application Level Protocol Negotiation
                  If empty, defaults to ["h2", "http/1.1"].
                items:
                  type: string
                type: array
              ca:
                type: string
              certificateInfo:
                properties:
                  data:
                    properties:
                      extensions:
                        properties:
                          subjectAlternativeNames:
                            items:
                              type: string
                            type: array
                        type: object
                      issuer:
                        description: 发行者 发行证书的证书认证中心 (CA) 的标识信息
                        items:
                          properties:
                            commonName:
                              description: CN
                              type: string
                            country:
                              description: C
                              type: string
                            locality:
                              description: L
                              type: string
                            organization:
                              description: O
                              type: string
                            organizationUint:
                              description: OU
                              type: string
                            stateOrProvince:
                              description: ST
                              type: string
                          type: object
                        type: array
                      serialNumber:
                        type: string
                      signatureAlgorithm:
                        type: string
                      signatureHashAlgorithm:
                        type: string
                      subject:
                        description: subject
                        items:
                          properties:
                            commonName:
                              description: CN
                              type: string
                            country:
                              description: C
                              type: string
                            locality:
                              description: L
                              type: string
                            organization:
                              description: O
                              type: string
                            organizationUint:
                              description: OU
                              type: string
                            stateOrProvince:
                              description: ST
                              type: string
                          type: object
                        type: array
                      subjectPublicKeyInfo:
                        properties:
                          algorithm:
                            type: string
                          length:
                            type: string
                          thumbprint:
                            type: string
                          thumbprintAlgorithm:
                            type: string
                        type: object
                      validity:
                        properties:
                          notAfter:
                            properties:
                              nanos:
                                description: |-
                                  Non-negative fractions of a second at nanosecond resolution. Negative
                                  second values with fractions must still have non-negative nanos values
                                  that count forward in time. Must be from 0 to 999,999,999
                                  inclusive.
                                format: int32
                                type: integer
                              seconds:
                                description: |-
                                  Represents seconds of UTC time since Unix epoch
                                  1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to
                                  9999-12-31T23:59:59Z inclusive.
                                format: int64
                                type: integer
                            type: object
                          notBefore:
                            properties:
                              nanos:
                                description: |-
                                  Non-negative fractions of a second at nanosecond resolution. Negative
                                  second values with fractions must still have non-negative nanos values
                                  that count forward in time. Must be from 0 to 999,999,999
                                  inclusive.
                                format: int32
                                type: integer
                              seconds:
                                description: |-
                                  Represents seconds of UTC time since Unix epoch
                                  1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to
                                  9999-12-31T23:59:59Z inclusive.
                                format: int64
                                type: integer
                            type: object
                        type: object
                      version:
                        type: string
                    type: object
                  raw:
                    description: 证书文件bytes
                    format: binary
                    type: string
                  signatureAlgorithm:
                    type: string
                  signatureHashAlgorithm:
                    type: string
                type: object
              commonInfo:
                properties:
                  description:
                    type: string
                  name:
                    type: string
                  source:
                    enum:
                    - CustomDefinition
                    - AdminDefinition
                    type: string
                  updatedDatetime:
                    properties:
                      nanos:
                        description: |-
                          Non-negative fractions of a second at nanosecond resolution. Negative
                          second values with fractions must still have non-negative nanos values
                          that count forward in time. Must be from 0 to 999,999,999
                          inclusive.
                        format: int32
                        type: integer
                      seconds:
                        description: |-
                          Represents seconds of UTC time since Unix epoch
                          1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to
                          9999-12-31T23:59:59Z inclusive.
                        format: int64
                        type: integer
                    type: object
                type: object
              crl:
                type: string
              tlsParameters:
                properties:
                  cipherSuites:
                    items:
                      type: string
                    type: array
                  ecdhCurves:
                    items:
                      type: string
                    type: array
                  maximumProtocolVersion:
                    enum:
                    - TLS_AUTO
                    - TLSv1_0
                    - TLSv1_1
                    - TLSv1_2
                    - TLSv1_3
                    type: string
                  minimumProtocolVersion:
                    enum:
                    - TLS_AUTO
                    - TLSv1_0
                    - TLSv1_1
                    - TLSv1_2
                    - TLSv1_3
                    type: string
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources: {}

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    crd.solo.io/specHash: 6e94e042c0105686
  labels:
    app: engine-gate
    app.kubernetes.io/name: engine-gate
  name: certificates.gate.xdmybl.io
spec:
  group: gate.xdmybl.io
  names:
    kind: Certificate
    listKind: CertificateList
    plural: certificates
    shortNames:
    - cert
    singular: certificate
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              alpnProtocols:
                description: |-
                  Set Application Level Protocol Negotiation
                  If empty, defaults to ["h2", "http/1.1"].
                items:
                  type: string
                type: array
              certificateChain:
                type: string
              certificateInfo:
                properties:
                  data:
                    properties:
                      extensions:
                        properties:
                          subjectAlternativeNames:
                            items:
                              type: string
                            type: array
                        type: object
                      issuer:
                        description: 发行者 发行证书的证书认证中心 (CA) 的标识信息
                        items:
                          properties:
                            commonName:
                              description: CN
                              type: string
                            country:
                              description: C
                              type: string
                            locality:
                              description: L
                              type: string
                            organization:
                              description: O
                              type: string
                            organizationUint:
                              description: OU
                              type: string
                            stateOrProvince:
                              description: ST
                              type: string
                          type: object
                        type: array
                      serialNumber:
                        type: string
                      signatureAlgorithm:
                        type: string
                      signatureHashAlgorithm:
                        type: string
                      subject:
                        description: subject
                        items:
                          properties:
                            commonName:
                              description: CN
                              type: string
                            country:
                              description: C
                              type: string
                            locality:
                              description: L
                              type: string
                            organization:
                              description: O
                              type: string
                            organizationUint:
                              description: OU
                              type: string
                            stateOrProvince:
                              description: ST
                              type: string
                          type: object
                        type: array
                      subjectPublicKeyInfo:
                        properties:
                          algorithm:
                            type: string
                          length:
                            type: string
                          thumbprint:
                            type: string
                          thumbprintAlgorithm:
                            type: string
                        type: object
                      validity:
                        properties:
                          notAfter:
                            properties:
                              nanos:
                                description: |-
                                  Non-negative fractions of a second at nanosecond resolution. Negative
                                  second values with fractions must still have non-negative nanos values
                                  that count forward in time. Must be from 0 to 999,999,999
                                  inclusive.
                                format: int32
                                type: integer
                              seconds:
                                description: |-
                                  Represents seconds of UTC time since Unix epoch
                                  1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to
                                  9999-12-31T23:59:59Z inclusive.
                                format: int64
                                type: integer
                            type: object
                          notBefore:
                            properties:
                              nanos:
                                description: |-
                                  Non-negative fractions of a second at nanosecond resolution. Negative
                                  second values with fractions must still have non-negative nanos values
                                  that count forward in time. Must be from 0 to 999,999,999
                                  inclusive.
                                format: int32
                                type: integer
                              seconds:
                                description: |-
                                  Represents seconds of UTC time since Unix epoch
                                  1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to
                                  9999-12-31T23:59:59Z inclusive.
                                format: int64
                                type: integer
                            type: object
                        type: object
                      version:
                        type: string
                    type: object
                  raw:
                    description: 证书文件bytes
                    format: binary
                    type: string
                  signatureAlgorithm:
                    type: string
                  signatureHashAlgorithm:
                    type: string
                type: object
              commonInfo:
                properties:
                  description:
                    type: string
                  name:
                    type: string
                  source:
                    enum:
                    - CustomDefinition
                    - AdminDefinition
                    type: string
                  updatedDatetime:
                    properties:
                      nanos:
                        description: |-
                          Non-negative fractions of a second at nanosecond resolution. Negative
                          second values with fractions must still have non-negative nanos values
                          that count forward in time. Must be from 0 to 999,999,999
                          inclusive.
                        format: int32
                        type: integer
                      seconds:
                        description: |-
                          Represents seconds of UTC time since Unix epoch
                          1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to
                          9999-12-31T23:59:59Z inclusive.
                        format: int64
                        type: integer
                    type: object
                type: object
              password:
                description: The password to decrypt the TLS private key. If this
                  field is not set, it is assumed that the TLS private key is not
                  password encrypted.
                type: string
              privateKey:
                type: string
              tlsParameters:
                properties:
                  cipherSuites:
                    items:
                      type: string
                    type: array
                  ecdhCurves:
                    items:
                      type: string
                    type: array
                  maximumProtocolVersion:
                    enum:
                    - TLS_AUTO
                    - TLSv1_0
                    - TLSv1_1
                    - TLSv1_2
                    - TLSv1_3
                    type: string
                  minimumProtocolVersion:
                    enum:
                    - TLS_AUTO
                    - TLSv1_0
                    - TLSv1_1
                    - TLSv1_2
                    - TLSv1_3
                    type: string
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources: {}

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    crd.solo.io/specHash: 421960c517a10129
  labels:
    app: engine-gate
    app.kubernetes.io/name: engine-gate
  name: upstreams.gate.xdmybl.io
spec:
  group: gate.xdmybl.io
  names:
    kind: Upstream
    listKind: UpstreamList
    plural: upstreams
    shortNames:
    - up
    singular: upstream
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              commonInfo:
                properties:
                  description:
                    type: string
                  name:
                    type: string
                  source:
                    enum:
                    - CustomDefinition
                    - AdminDefinition
                    type: string
                  updatedDatetime:
                    properties:
                      nanos:
                        description: |-
                          Non-negative fractions of a second at nanosecond resolution. Negative
                          second values with fractions must still have non-negative nanos values
                          that count forward in time. Must be from 0 to 999,999,999
                          inclusive.
                        format: int32
                        type: integer
                      seconds:
                        description: |-
                          Represents seconds of UTC time since Unix epoch
                          1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to
                          9999-12-31T23:59:59Z inclusive.
                        format: int64
                        type: integer
                    type: object
                type: object
              connPoll:
                properties:
                  maxConnections:
                    description: 访问该集群的最大发连接数，默认值-1 (2^32-1 = 4294967295)。
                    format: int64
                    type: integer
                  maxPendingRequests:
                    description: 最大阻塞的请求数，默认值-1(2^32-1)。
                    format: int64
                    type: integer
                  maxRequests:
                    format: int64
                    type: integer
                  maxRequestsPerConnection:
                    maximum: 4294967295
                    minimum: 0
                    type: integer
                  outboundSourceAddress:
                    type: string
                type: object
              endpoints:
                items:
                  properties:
                    address:
                      type: string
                    loadBalancingWeight:
                      maximum: 4294967295
                      minimum: 0
                      type: integer
                    port:
                      maximum: 4294967295
                      minimum: 0
                      type: integer
                  type: object
                type: array
              hcHealthyThreshold:
                description: hc 健康阈值
                maximum: 4294967295
                minimum: 0
                type: integer
              hcInterval:
                description: health check interval
                maximum: 4294967295
                minimum: 0
                type: integer
              hcSpecifier:
                properties:
                  httpHealthCheck:
                    properties:
                      ClientType:
                        type: string
                      expectedStatuses:
                        items:
                          maximum: 4294967295
                          minimum: 0
                          type: integer
                        type: array
                      host:
                        type: string
                      method:
                        type: string
                      path:
                        type: string
                    type: object
                  tcpHealthCheck:
                    properties:
                      receivePayload:
                        items:
                          type: string
                        type: array
                      sendPayload:
                        type: string
                    type: object
                  type:
                    enum:
                    - UNKNOWN
                    - TCP
                    - HTTP
                    type: string
                type: object
              hcTimeout:
                maximum: 4294967295
                minimum: 0
                type: integer
              hcUnhealthyThreshold:
                maximum: 4294967295
                minimum: 0
                type: integer
              lbAlg:
                enum:
                - ROUND_ROBIN
                - LEAST_REQUEST
                - RING_HASH
                - RANDOM
                - MAGLEV
                type: string
              sslConfigurations:
                properties:
                  allowRenegotiation:
                    type: boolean
                  caCertRef:
                    properties:
                      group:
                        type: string
                      kind:
                        type: string
                      name:
                        type: string
                      namespace:
                        description: Defaults to `default`
                        type: string
                      version:
                        type: string
                    type: object
                  sni:
                    description: Optional
                    type: string
                  sslCertRef:
                    properties:
                      group:
                        type: string
                      kind:
                        type: string
                      name:
                        type: string
                      namespace:
                        description: Defaults to `default`
                        type: string
                      version:
                        type: string
                    type: object
                  tlsMode:
                    enum:
                    - TLS_NONE
                    - TLS_V1_SIMPLE
                    - TLS_V1_MUTUAL
                    - TLS_V1_PASS_THROUGH
                    - TLS_V1_AUTO_PASS_THROUGH
                    type: string
                type: object
              statefulSession:
                properties:
                  name:
                    type: string
                  path:
                    description: only for COOKIE
                    type: string
                  ttl:
                    description: only for COOKIE
                    properties:
                      nanos:
                        description: |-
                          Non-negative fractions of a second at nanosecond resolution. Negative
                          second values with fractions must still have non-negative nanos values
                          that count forward in time. Must be from 0 to 999,999,999
                          inclusive.
                        format: int32
                        type: integer
                      seconds:
                        description: |-
                          Represents seconds of UTC time since Unix epoch
                          1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to
                          9999-12-31T23:59:59Z inclusive.
                        format: int64
                        type: integer
                    type: object
                  type:
                    enum:
                    - UNKNOWN
                    - COOKIE
                    - SESSION
                    type: string
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources: {}

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    crd.solo.io/specHash: eeadf561c8680c75
  labels:
    app: engine-gate
    app.kubernetes.io/name: engine-gate
  name: gateways.gate.xdmybl.io
spec:
  group: gate.xdmybl.io
  names:
    kind: Gateway
    listKind: GatewayList
    plural: gateways
    shortNames:
    - gw
    singular: gateway
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              commonInfo:
                properties:
                  description:
                    type: string
                  name:
                    type: string
                  source:
                    enum:
                    - CustomDefinition
                    - AdminDefinition
                    type: string
                  updatedDatetime:
                    properties:
                      nanos:
                        description: |-
                          Non-negative fractions of a second at nanosecond resolution. Negative
                          second values with fractions must still have non-negative nanos values
                          that count forward in time. Must be from 0 to 999,999,999
                          inclusive.
                        format: int32
                        type: integer
                      seconds:
                        description: |-
                          Represents seconds of UTC time since Unix epoch
                          1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to
                          9999-12-31T23:59:59Z inclusive.
                        format: int64
                        type: integer
                    type: object
                type: object
              listeners:
                description: 'validate: max and min item.'
                items:
                  properties:
                    bindAddress:
                      description: 'validate: ipv4 or ipv6, default 0.0.0.0'
                      type: string
                    bindPort:
                      description: 'validate: port value'
                      maximum: 4294967295
                      minimum: 0
                      type: integer
                    bindToPort:
                      description: is bind to os port , default false
                      type: boolean
                    filterName:
                      items:
                        type: string
                      type: array
                    metadata:
                      properties:
                        filterMetadata:
                          additionalProperties:
                            type: object
                          type: object
                        typedFilterMetadata:
                          additionalProperties:
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          type: object
                      type: object
                    options:
                      description: listener option
                      properties:
                        perConnectionBufferLimitBytes:
                          description: |-
                            Soft limit on size of the listener's new connection read and write buffers. If unspecified, defaults to 1MiB
                            For more info, check out the [Envoy docs](https://www.envoyproxy.io/docs/envoy/v1.14.1/api-v2/api/v2/listener.proto)
                          maximum: 4294967295
                          minimum: 0
                          type: integer
                      type: object
                  type: object
                type: array
            type: object
        type: object
    served: true
    storage: true
    subresources: {}

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    crd.solo.io/specHash: 73d1697b400d480a
  labels:
    app: engine-gate
    app.kubernetes.io/name: engine-gate
  name: filters.gate.xdmybl.io
spec:
  group: gate.xdmybl.io
  names:
    kind: Filter
    listKind: FilterList
    plural: filters
    shortNames:
    - filter
    singular: filter
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            description: |-
              directly map to the Envoy v3 filter object
              只好先用着 envoy 的名称, 其实 filter 是一个基于功能的取名
              并不是基于概念的取名, 这里后期必然要换一个名
            oneOf:
            - not:
                anyOf:
                - required:
                  - hcm
                - required:
                  - tcpProxy
            - required:
              - hcm
            - required:
              - tcpProxy
            properties:
              commonInfo:
                description: common fields
                properties:
                  description:
                    type: string
                  name:
                    type: string
                  source:
                    enum:
                    - CustomDefinition
                    - AdminDefinition
                    type: string
                  updatedDatetime:
                    properties:
                      nanos:
                        description: |-
                          Non-negative fractions of a second at nanosecond resolution. Negative
                          second values with fractions must still have non-negative nanos values
                          that count forward in time. Must be from 0 to 999,999,999
                          inclusive.
                        format: int32
                        type: integer
                      seconds:
                        description: |-
                          Represents seconds of UTC time since Unix epoch
                          1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to
                          9999-12-31T23:59:59Z inclusive.
                        format: int64
                        type: integer
                    type: object
                type: object
              hcm:
                properties:
                  httpFilter:
                    items:
                      type: object
                    type: array
                  mergeSlashes:
                    type: boolean
                  routeConfig:
                    description: 对应 Envoy route_config_name
                    properties:
                      headerManipulation:
                        properties:
                          requestHeadersToAdd:
                            description: |-
                              Specifies a list of HTTP headers that should be added to each request
                              handled by this route or virtual host. For more information, including
                              details on header value syntax, see the
                              [Envoy documentation](https://www.envoyproxy.io/docs/envoy/latest/configuration/http_conn_man/headers#config-http-conn-man-headers-custom-request-headers) .
                            items:
                              properties:
                                append:
                                  description: |-
                                    Should the value be appended? If true (default), the value is appended to
                                    existing values.
                                  type: boolean
                                header:
                                  description: Header name/value pair that this option
                                    applies to.
                                  properties:
                                    key:
                                      description: Header name.
                                      type: string
                                    value:
                                      description: Header value.
                                      type: string
                                  type: object
                              type: object
                            type: array
                          requestHeadersToRemove:
                            description: |-
                              Specifies a list of HTTP headers that should be removed from each request
                              handled by this route or virtual host.
                            items:
                              type: string
                            type: array
                          responseHeadersToAdd:
                            description: |-
                              Specifies a list of HTTP headers that should be added to each response
                              handled by this route or host. For more information, including
                              details on header value syntax, see the
                              [Envoy documentation](https://www.envoyproxy.io/docs/envoy/latest/configuration/http_conn_man/headers#config-http-conn-man-headers-custom-request-headers) .
                            items:
                              properties:
                                append:
                                  description: |-
                                    Should the value be appended? If true (default), the value is appended to
                                    existing values.
                                  type: boolean
                                header:
                                  description: Header name/value pair that this option
                                    applies to.
                                  properties:
                                    key:
                                      description: Header name.
                                      type: string
                                    value:
                                      description: Header value.
                                      type: string
                                  type: object
                              type: object
                            type: array
                          responseHeadersToRemove:
                            description: |-
                              Specifies a list of HTTP headers that should be removed from each response
                              handled by this route or virtual host.
                            items:
                              type: string
                            type: array
                        type: object
                      name:
                        type: string
                      vhostLs:
                        items:
                          properties:
                            routeLs:
                              items:
                                oneOf:
                                - not:
                                    anyOf:
                                    - required:
                                      - forwardAction
                                    - required:
                                      - redirectAction
                                    - required:
                                      - directionAction
                                - required:
                                  - forwardAction
                                - required:
                                  - redirectAction
                                - required:
                                  - directionAction
                                properties:
                                  directionAction:
                                    properties:
                                      body:
                                        type: string
                                      statusCode:
                                        maximum: 4294967295
                                        minimum: 0
                                        type: integer
                                    type: object
                                  forwardAction:
                                    properties:
                                      timeout:
                                        maximum: 4294967295
                                        minimum: 0
                                        type: integer
                                      weightClusterLs:
                                        items:
                                          properties:
                                            clusterName:
                                              items:
                                                type: string
                                              type: array
                                            totalWeight:
                                              maximum: 4294967295
                                              minimum: 0
                                              type: integer
                                          type: object
                                        type: array
                                    type: object
                                  match:
                                    properties:
                                      headers:
                                        items:
                                          properties:
                                            contains:
                                              type: string
                                            exact:
                                              type: string
                                            invert:
                                              type: boolean
                                            prefix:
                                              type: string
                                            regex:
                                              type: string
                                          type: object
                                        type: array
                                      path:
                                        description: :path exact
                                        type: string
                                      prefix:
                                        description: :path  prefix
                                        type: string
                                      regex:
                                        type: string
                                    type: object
                                  redirectAction:
                                    properties:
                                      hostRedirect:
                                        type: string
                                      portRedirect:
                                        maximum: 4294967295
                                        minimum: 0
                                        type: integer
                                      responseCode:
                                        maximum: 4294967295
                                        minimum: 0
                                        type: integer
                                      schemeRewriteSpecifier:
                                        type: boolean
                                      stripQuery:
                                        type: boolean
                                    type: object
                                type: object
                              type: array
                          type: object
                        type: array
                    type: object
                  skipXffAppend:
                    type: boolean
                type: object
              tcpProxy:
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources: {}
